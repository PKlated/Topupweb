@{
    ViewData["Title"] = "Inventory";
    Layout = "~/Views/Shared/_Layout.navbar.cshtml";

    // TEMP MOCK INVENTORY (replace with DB later)
    var inventoryItems = new[]
    {
        new { Name = "100 Gems", Type = "Currency", Quantity = 100, Obtained = "2026-01-10" },
        new { Name = "500 Gems", Type = "Currency", Quantity = 500, Obtained = "2026-01-15" },
        new { Name = "Special Event Ticket", Type = "Item", Quantity = 1, Obtained = "2026-01-18" }
    };
}

<!-- PAGE HEADER -->
<div class="bg-white border-4 border-black shadow-[6px_6px_0_#000] p-6 mb-8">
    <h1 class="text-3xl font-extrabold tracking-wide mb-2">
        USER INVENTORY
    </h1>
    <p class="text-sm text-gray-700">
        View all items and currencies linked to your account.
    </p>
</div>

@if (!User.Identity.IsAuthenticated)
{
    <!-- GUEST WARNING -->
    <div class="bg-[#FFFBCC] border-4 border-black shadow-[4px_4px_0_#000] p-5">
        <p class="font-extrabold mb-2">âš  Login Required</p>
        <p class="text-sm mb-4">
            Please login to view your inventory.
        </p>

        <a asp-controller="Auth" asp-action="Login"
           class="inline-block px-4 py-2 border-2 border-black bg-white
                  shadow-[2px_2px_0_#000] font-bold">
            LOGIN
        </a>
    </div>
}
else
{
    @if (!inventoryItems.Any())
    {
        <!-- EMPTY INVENTORY -->
        <div class="bg-white border-4 border-black shadow-[4px_4px_0_#000] p-6">
            <p class="font-extrabold text-lg mb-2">Your inventory is empty</p>
            <p class="text-sm text-gray-600">
                Top up or join events to receive items.
            </p>

            <a asp-controller="User" asp-action="TopUp"
               class="inline-block mt-4 px-4 py-2 border-2 border-black bg-[#FFCB05]
                      shadow-[3px_3px_0_#000] font-bold">
                GO TO TOP-UP
            </a>
        </div>
    }
    else
    {
        <!-- INVENTORY GRID -->
        <div class="grid md:grid-cols-3 gap-6">

            @foreach (var item in inventoryItems)
            {
                <div class="bg-white border-4 border-black shadow-[4px_4px_0_#000] p-5">
                    <h3 class="text-xl font-extrabold mb-1">
                        @item.Name
                    </h3>

                    <p class="text-sm text-gray-600 mb-2">
                        Type: <span class="font-bold">@item.Type</span>
                    </p>

                    <p class="text-sm mb-2">
                        Quantity:
                        <span class="font-extrabold text-lg">@item.Quantity</span>
                    </p>

                    <p class="text-xs text-gray-500">
                        Obtained on @item.Obtained
                    </p>
                </div>
            }

        </div>
    }
}
