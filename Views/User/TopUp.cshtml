@{
    ViewData["Title"] = "Top Up";
    Layout = "~/Views/Shared/_Layout.navbar.cshtml";
}

<!-- PAGE HEADER -->
<div class="bg-white border-4 border-black shadow-[6px_6px_0_#000] p-6 mb-6">
    <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4">
        <div>
            <h1 class="text-3xl font-extrabold tracking-wide mb-2">
                TOP-UP CENTER
            </h1>
            <p class="text-sm text-gray-700">
                Choose a package and top up your account instantly.
            </p>
        </div>

        @if (User.Identity.IsAuthenticated)
        {
            <a asp-controller="User"
               asp-action="PaymentHistory"
               class="inline-block px-4 py-2 border-2 border-black bg-white
                      shadow-[3px_3px_0_#000] hover:translate-x-[1px]
                      hover:translate-y-[1px] hover:shadow-none font-bold text-center">
                PAYMENT HISTORY
            </a>
        }
    </div>
</div>

<!-- GUEST WARNING -->
@if (!User.Identity.IsAuthenticated)
{
    <div class="bg-[#FFFBCC] border-4 border-black shadow-[4px_4px_0_#000] p-5 mb-8">
        <p class="font-extrabold mb-1">⚠ Guest Mode</p>
        <p class="text-sm mb-3">
            You must login before proceeding to payment.
        </p>

        <a asp-controller="Auth" asp-action="Login"
           class="inline-block px-4 py-2 border-2 border-black bg-white
                  shadow-[2px_2px_0_#000] hover:translate-x-[1px]
                  hover:translate-y-[1px] hover:shadow-none font-bold">
            LOGIN
        </a>
    </div>
}

<!-- TOP-UP PACKAGES -->
<div class="grid md:grid-cols-3 gap-6">

    <!-- PACKAGE 1 -->
    <div class="bg-white border-4 border-black shadow-[4px_4px_0_#000] p-5">
        <h3 class="text-xl font-extrabold mb-2">100 Gems</h3>
        <p class="text-sm mb-4">Basic starter pack.</p>

        @if (User.Identity.IsAuthenticated)
        {
            <a asp-controller="User"
               asp-action="Payment"
               asp-route-package="100"
               class="block text-center px-4 py-2 border-2 border-black bg-[#FFCB05]
                      shadow-[3px_3px_0_#000] hover:translate-x-[1px]
                      hover:translate-y-[1px] hover:shadow-none font-bold">
                PAY NOW
            </a>
        }
        else
        {
            <button disabled
                class="w-full px-4 py-2 border-2 border-black bg-gray-300 font-bold cursor-not-allowed">
                LOGIN REQUIRED
            </button>
        }
    </div>

    <!-- PACKAGE 2 -->
    <div class="bg-white border-4 border-black shadow-[4px_4px_0_#000] p-5">
        <h3 class="text-xl font-extrabold mb-2">500 Gems</h3>
        <p class="text-sm mb-4">Best value for players.</p>

        @if (User.Identity.IsAuthenticated)
        {
            <a asp-controller="User"
               asp-action="Payment"
               asp-route-package="500"
               class="block text-center px-4 py-2 border-2 border-black bg-[#FFCB05]
                      shadow-[3px_3px_0_#000] hover:translate-x-[1px]
                      hover:translate-y-[1px] hover:shadow-none font-bold">
                PAY NOW
            </a>
        }
        else
        {
            <button disabled
                class="w-full px-4 py-2 border-2 border-black bg-gray-300 font-bold cursor-not-allowed">
                LOGIN REQUIRED
            </button>
        }
    </div>

    <!-- PACKAGE 3 -->
    <div class="bg-white border-4 border-black shadow-[4px_4px_0_#000] p-5">
        <h3 class="text-xl font-extrabold mb-2">1000 Gems</h3>
        <p class="text-sm mb-4">For hardcore players.</p>

        @if (User.Identity.IsAuthenticated)
        {
            <a asp-controller="User"
               asp-action="Payment"
               asp-route-package="1000"
               class="block text-center px-4 py-2 border-2 border-black bg-[#FFCB05]
                      shadow-[3px_3px_0_#000] hover:translate-x-[1px]
                      hover:translate-y-[1px] hover:shadow-none font-bold">
                PAY NOW
            </a>
        }
        else
        {
            <button disabled
                class="w-full px-4 py-2 border-2 border-black bg-gray-300 font-bold cursor-not-allowed">
                LOGIN REQUIRED
            </button>
        }
    </div>

</div>

<!-- FOOTER NOTE -->
<p class="mt-8 text-sm text-gray-600">
    Secure payment • Instant delivery • No refunds after purchase
</p>
